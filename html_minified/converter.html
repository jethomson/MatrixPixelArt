<!doctypehtml><meta content="no-cache, no-store, must-revalidate"http-equiv=Cache-Control><meta content=no-cache http-equiv=Pragma><meta content=0 http-equiv=Expires><title>
Image Converter</title><style>.box{border:2px solid #fff}body{color:#faffff;text-align:center;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;background:#111;font-family:Arial,sans-serif;font-size:17px}#return_main_menu{float:left}.top-part{width:600px;margin:0 auto}.container{max-width:100% -40px;text-align:center;border-radius:0;padding:20px}p{color:#777;font-family:Arial,sans-serif;font-size:1em;line-height:1.5}#fieldTable,#scaleTable{font-size:1 em;color:#777;font-family:Arial,sans-serif;line-height:1}#drop-zone{width:100%-40px;text-align:center;cursor:pointer;color:#777;border:3px dashed #ddd;border-radius:0;margin:0;padding:20px;font-family:Arial,sans-serif;font-size:15px;display:block}#file-picker{display:none}.adaptiveTD{flex-flow:row;align-items:center;display:flex}.mainSelector{color:#ddd;background-color:#222;border:1px solid #333;border-radius:7px;flex-grow:1;justify-content:center;align-items:center;height:28px;margin-top:4px;margin-bottom:4px;padding:0 8px;font-size:15px;display:flex}.adaptiveSelector{color:#ddd;background-color:#222;border:1px solid #333;border-radius:7px;flex-grow:1;height:28px;margin-top:4px;margin-bottom:4px;padding:0 8px;font-size:15px;display:none}.segmentsDiv{width:36px;padding-left:5px}* input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;background:linear-gradient(90deg,#bbb 50%,#333 50%);border-radius:7px;flex-grow:1;margin:4px 8px 4px 0;padding:0}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{cursor:pointer;background:0 0;border-radius:7px;height:28px}input[type=range]::-webkit-slider-thumb{cursor:pointer;-webkit-appearance:none;background:#fff;border-radius:7px;width:16px;height:16px;margin-top:4px}input[type=range]::-moz-range-track{background-color:#0000;border-radius:7px;height:28px}input[type=range]::-moz-range-thumb{background:#fff;border:0 solid #0000;border-radius:7px;width:16px;height:16px}.rangeNumber{vertical-align:middle;width:20px}.fullTextField[type=text]{color:#ddd;background-color:#222;border:1px solid #333;border-radius:7px;flex-grow:1;justify-content:center;align-items:center;height:24px;margin-top:4px;margin-bottom:4px;padding-inline-start:5px;font-family:Arial,sans-serif;font-size:15px;display:flex}.flxTFld{color:#ddd;background-color:#222;border:1px solid #333;border-radius:7px;flex-grow:1;justify-content:center;align-items:center;height:24px;padding-inline-start:5px;font-family:Arial,sans-serif;font-size:15px;display:flex}* input[type=submit]{color:#ddd;background-color:#222;border:1px solid #333;border-radius:24px;width:100%;padding:.5em;font-family:Arial,sans-serif;font-size:1.3em}* button{color:#ddd;cursor:pointer;background-color:#222;border:1px solid #333;border-radius:24px;justify-content:center;align-items:center;width:100%;padding-inline:5px;font-family:Arial,sans-serif;font-size:1em;display:flex}#scaleDiv{vertical-align:middle;align-items:center;display:flex}textarea{color:#ddd;background-color:#222;border:1px solid #333;grid-row:1/2;width:100%;height:200px}input#imid{padding-top:5px;padding-bottom:5px;color:#ddd;background-color:#222;border:1px solid #333;border-radius:7px;flex-grow:1;justify-content:center;align-items:center;max-width:225px;padding-inline:5px;font-family:Arial,sans-serif;font-size:15px;display:flex}.hide{display:none}.svg-icon{vertical-align:middle}#image-container{grid-template-rows:1fr 1fr;display:grid}#button-container{padding-top:10px;padding-bottom:10px;display:flex}.buttonclass{flex:1;padding-top:5px;padding-bottom:5px}.gap{width:10px}#submitConvert:before{content:"";background-image:url("data:image/svg+xml;utf8, <svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\" <path fill=\"currentColor\" d=\"M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z\" /></svg>");width:36px;height:36px;display:inline-block}#sizeDiv *{display:inline-block}.sizeInputFields{color:#ddd;background-color:#222;border:1px solid #333;border-radius:7px;width:50px;height:24px;margin-top:-5px;padding-inline-start:5px;font-family:Arial,sans-serif;font-size:15px}a:link,a:visited{color:#dddddd9c;background-color:#0000;text-decoration:none}a:hover{color:#ddd;background-color:#0000;text-decoration:none}a:active{color:#dddddd9c;background-color:#0000;text-decoration:none}</style><script>var cE=(a=>d.createElement(a));var gId=(a=>d.getElementById(a));var d=document</script><body><a href=./index.html id=return_main_menu><svg viewbox="0 0 16 16"height=24px id=Layer_1 version=1.1 width=24px xml:space=preserve xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><path d="M15.45,7L14,5.551V2c0-0.55-0.45-1-1-1h-1c-0.55,0-1,0.45-1,1v0.553L9,0.555C8.727,0.297,8.477,0,8,0S7.273,0.297,7,0.555 L0.55,7C0.238,7.325,0,7.562,0,8c0,0.563,0.432,1,1,1h1v6c0,0.55,0.45,1,1,1h3v-5c0-0.55,0.45-1,1-1h2c0.55,0,1,0.45,1,1v5h3 c0.55,0,1-0.45,1-1V9h1c0.568,0,1-0.437,1-1C16,7.562,15.762,7.325,15.45,7z"fill=white /></svg></a><h3>Image Converter</h3><h4>Images with an alpha channel are supported. Use transparency to get complete or partial background substitution when layering.</h4><div class=top-part><table id=fieldTable style=table-layout:fixed;align-content:center;width:100%><tr style=display:none><td style=vertical-align:middle><label for=ledSetupSelector>Led setup:</label><td class=adaptiveTD><select class=mainSelector id=ledSetupSelector><option value=matrix>2D Matrix<option selected value=r2l>Serpentine, first row right to left &LT-<option value=l2r>Serpentine, first row left to right -></select><tr style=display:none><td style=vertical-align:middle><label for=formatSelector>Output format:</label><td class=adaptiveTD><select class=mainSelector id=formatSelector><option selected value=wled>WLED JSON<option value=curl>CURL<option value=ha>Home Assistant YAML</select><tr style=display:none><td style=vertical-align:middle><label for=colorFormatSelector>Color code format:</label><td class=adaptiveTD><select class=mainSelector id=colorFormatSelector><option selected value=hex>HEX ("f4f4f4")<option value=dec>DEC (244,244,244)</select><tr style=display:none><td style=vertical-align:middle><label for=addressingSelector>Addressing:</label><td class=adaptiveTD><select class=mainSelector id=addressingSelector><option selected value=hybrid>Hybrid ("f0f0f0",10, 17, "f4f4f4")<option value=range>Range (10, 17, "f4f4f4")<option value=single>Single ("f4f4f4")</select><tr style=display:none><td style=vertical-align:middle><label for=brightnessNumber>Brightness:</label><td style=vertical-align:middle;align-items:center;display:flex><input id=brightnessNumber max=255 min=1 type=range value=128> <span id=brightnessValue>128</span><tr style=display:none><td style=vertical-align:middle><label for=colorLimitNumber>Max no of colors/JSON:</label><td style=vertical-align:middle;align-items:center;display:flex><input id=colorLimitNumber max=512 min=1 type=range value=256> <span id=colorLimitValue>256</span><tr class=ha-hide><td style=vertical-align:middle><label for=haID>HA Device ID:</label><td class=adaptiveTD><input class=fullTextField id=haID value=pixel_art_controller_001><tr class=ha-hide><td style=vertical-align:middle><label for=haUID>HA Device Unique ID:</label><td class=adaptiveTD><input class=fullTextField id=haUID value=pixel_art_controller_001a><tr class=ha-hide><td style=vertical-align:middle><label for=haName>HA Device Name:</label><td class=adaptiveTD><input value="Pixel Art Kitchen"class=fullTextField id=haName><tr><td style=vertical-align:middle><label for=curlUrl>Device IP/host name:</label><td class=adaptiveTD><input class=fullTextField id=curlUrl><tr style=display:none><td style=vertical-align:middle><label for=targetSegment>Target segment id:</label><td class=adaptiveTD><input class=flxTFld id=segID max=63 min=0 type=number value=0> <select class=adaptiveSelector id=targetSegment></select> <div class=segmentsDiv id=getSegmentsDiv></div></table><table class=scaleTableClass id=scaleTable style=table-layout:fixed;align-content:center;width:100%><tr><td style=vertical-align:middle><div id=scaleDiv><svg viewbox="0 0 24 24"cursor=pointer onclick=switchScale() style=width:36px;height:36px><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"fill=currentColor /></svg>  Scale image</div><td style=vertical-align:middle><div id=sizeDiv style=display:none><label for=sizeX>W :</label>  <input class=sizeInputFields id=sizeX min=1 type=number value=16>     <label for=sizeY>H :</label>  <input class=sizeInputFields id=sizeY min=1 type=number value=16></div></table><p><label for=file-picker><div id=drop-zone>Click to select a file</div></label><p><input id=file-picker style=display:none type=file><div style=text-align:center;width:100%><img style="margin:0 auto;display:none"id=preview src=data:text/html;base64,></div><div id=raw-image-container style=display:none><img alt="RawImage image"id=image src=data:text/html;base64,></div><p><div id=image-container style=display:none><div id=image-info style=display:none></div><textarea id=JSONled readonly style=display:none>
</textarea></div><div id=button-container style=display:none><button class=buttonclass id=copyJSONledbutton style=display:none></button><input id=imid maxlength=26><div class=gap id=gap1></div><button class=buttonclass id=sendJSONledbutton></button></div></div><div class=bottom-part id=bottom-part style=display:none></div><canvas id=pixelCanvas></canvas><script>for(var gurl=gId(`curlUrl`),szX=gId(`sizeX`),szY=gId(`sizeY`),szDiv=gId(`sizeDiv`),prw=gId(`preview`),sID=gId(`segID`),JLD=gId(`JSONled`),tSg=gId(`targetSegment`),brgh=gId(`brightnessNumber`),seDiv=gId(`getSegmentsDiv`),cjb=gId(`copyJSONledbutton`),frm=gId(`formatSelector`),cLN=gId(`colorLimitNumber`),haIDe=gId(`haID`),haUe=gId(`haUID`),haNe=gId(`haName`),aS=gId(`addressingSelector`),cFS=gId(`colorFormatSelector`),lSS=gId(`ledSetupSelector`),imin=gId(`image-info`),imcn=gId(`image-container`),bcn=gId(`button-container`),im=gId(`image`),scDiv=gId(`scaleDiv`),w=window,canvas=gId(`pixelCanvas`),brgV=gId(`brightnessValue`),ilanidV=gId(`ilaValue`),cLV=gId(`colorLimitValue`),httpArray=[],fileJSON=``,hideableRows=d.querySelectorAll(`.ha-hide`),i=0;i<hideableRows.length;i++)hideableRows[i].classList.add(`hide`);var accentColor=`#eee`,accentTextColor=`#777`,prsCol=`#ccc`,greenColor=`#056b0a`,redColor=`#6b050c`,scaleToggleOffd=`M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z`,scaleToggleOnd=`M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z`,sSg=gId(`getSegmentsSVGpath`)</script><script>var getPixelRGBValues=(a=>{let s=0,B=5,t=1,A=3,v=`"`,z=2,C=`,`,y=4,u=``,w=512,x=16;httpArray=[],fileJSON=`{"t":"im","i":[`;let b=s;b=`flex`==tSg.style.display?tSg.value:sID.value;const c=parseInt(cLN.value);let d=!t,e=-t;e=frm.selectedIndex;const f=frm.options[e].value;e=lSS.selectedIndex;const g=lSS.options[e].value;e=cFS.selectedIndex;let h=!s;`dec`==cFS.options[e].value&&(h=!t),e=aS.selectedIndex;let i=!s;`single`==aS.options[e].value?(i=!t):`hybrid`==aS.options[e].value&&(d=!s);let j=u,k=u,l=v,m=v;h||(l=`[`,m=`]`);let n=!t,o=u;var p=cE(`canvas`),q=p.getContext(`2d`,{willReadFrequently:!s}),r=new Image;r.src=a,r.onload=(()=>{let a=scDiv.children[s].children[s].getAttribute(`fill`),b=szX.value,e=szY.value;(a!=accentColor||b<t||e<t)&&(b=r.width,e=r.height,(r.width>w||r.height>w)&&(b=x,e=x)),p.width=b,p.height=e,o=`<p>Width: `+ b+ `, Height: `+ e+ ` (make sure this matches your led matrix setup)</p>`,q.drawImage(r,s,s,b,e);var v=q.getImageData(s,s,b,e).data,D=[];let E=t;`l2r`==g&&(E=s);for(var F=s;F<v.length;F+=y){var G=v[F],H=v[F+ t],I=v[F+ z],J=v[F+ A];let a=F/y,c=Math.floor(a/b),d=a;if(`matrix`==g);else if((c+ E)%z==s);else{d=c*b+ (b- t- (d- c*b))};D.push([G,H,I,J,d,a,c])};D.sort((a,b)=>a[B]- b[B]);let K=[...D];K.sort((a,b)=>a[y]- b[y]);let L=u,M=-t,N=K.length,O=s,P=[];for(let a=s;a<N;a++){let b=K[a],e=b[s],f=b[t],g=b[z],j=b[A],k=u,o=-t;if(i)if(M<s&&(M=a),a<N- t){let b=K[a+ t],c=b[s],h=b[t],i=b[z],l=b[A];c==e&&h==f&&i==g&&l==j||(o=a+ t,k=M==a&&d?u==L?a+ C:u:M+ C+ o+ C)}else o=a+ t,k=M+ t==o&&d?u==L?a+ C:u:M+ C+ o+ C;else u==L&&(L=a),M=a,o=a;if(j<255&&(n=!s),o>-t){let b=e+ C+ f+ C+ g+ C+ j;if(h){const [a,c,d,h]=[e,f,g,j];b=u+ [a,c,d,h].map(a=>a.toString(x).padStart(z,`0`)).join(u)};L+=k+ l+ b+ m,fileJSON=L+ k+ l+ b+ m,O+=t,O%c==s||a==N- t?(P.push(L),L=u):(L+=C),M=-t}};L=u;for(let a=s;a<P.length;a++){let b=`{"t":"im","i":[${P[a]}]}`;httpArray.push(b);let c=`curl -X POST "http://${gurl.value}/save" -d '${b}' -H "Content-Type: application/json"`;a>s&&(L+=`\\n<NEXT COMMAND (multiple commands not supported in API/preset setup)>\\n`,j+=` && `),L+=b,j+=c};k=`#Uncomment if you don't allready have these defined in your switch section of your configuration.yaml \n#- platform: command_line \n  #switches: \n    ${haIDe.value} \n      friendly_name: ${haNe.value} \n      unique_id: ${haUe.value} \n      command_on: > \n        ${j} \n      command_off: > \n        curl -X POST "http://${gurl.value}/save" -d '{"on":false}' -H "Content-Type: application/json"`,JLD.value=`wled`==f?L:`curl`==f?j:`ha`==f?k:`ERROR!/n`+ f+ ` is an unknown format.`,fileJSON+=`]}`;let Q=imin,R=imin;n,Q.innerHTML=o,R.style.display=`block`,drawBoxes(D,b,e)})})</script><script>function drawBoxes(t,e,a){var i=window,n=canvas.getContext("2d",{willReadFrequently:!0});i.innerHeight<i.innerWidth?canvas.width=Math.floor(.98*i.innerHeight):canvas.width=Math.floor(.98*i.innerWidth);let l=Math.floor(canvas.width/e),h=(i.innerWidth-e*l)/2;canvas.height=l*a+10;for(let i=0;i<a;i++)for(let a=0;a<e;a++){let h=t[i*e+a],r="rgb("+h[0]+", "+h[1]+", "+h[2]+")",d="rgb(128,128,128)";n.fillStyle=r,n.fillRect(a*l,i*l,l,l),n.strokeStyle="#888888",n.lineWidth=1,n.strokeRect(a*l,i*l,l,l),n.font="10px Arial",n.fillStyle=d,n.textAlign="center",n.textBaseline="middle",n.fillText(h[4],a*l+l/2,i*l+l/2)}var r=n.getImageData(0,0,canvas.width,canvas.height);n.clearRect(0,0,canvas.width,canvas.height),canvas.width=i.innerWidth,n.putImageData(r,h,0)}</script><script>var zoneClicked=(a=>{a.preventDefault(),filePicker.click()});var dragOver=(a=>{a.preventDefault()});var postPixels=(async()=>{let c=`fill`,d=1000;let a=gId(`sendSvgP`);a.setAttribute(c,prsCol);let b=!1;for(let a of httpArray)try{devMode&&console.log(a),devMode&&console.log(a.length);const b=await fetch(`http://`+ gId(`curlUrl`).value+ `/save`,{method:`POST`,headers:{"Content-Type":`application/x-www-form-urlencoded`},body:`t=im&id=${gId(`imid`).value}&json=`+ a}),c=await b.json();devMode&&console.log(c)}catch(a){console.error(a),b=!0};b?(a.setAttribute(c,redColor),setTimeout((()=>{a.setAttribute(c,accentTextColor)}),d)):(a.setAttribute(c,greenColor),setTimeout((()=>{a.setAttribute(c,accentColor)}),d))});var generateSegmentArray=(a=>{for(var b=[],c=0;c<a;c++)b.push({value:c,text:`Segment index `+ c});return b});var getSegments=(async()=>{let f=`sSg`,c=0,g=`fill`,h=1000,e=`none`,d=`flex`;if(cv=gurl.value,cv.length>c)try{var a=[];const i=await fetch(`http://`+ cv+ `/save`);let j=(await i.json()).seg.map(a=>({id:a.id,n:a.n,xs:a.start,xe:a.stop,ys:a.startY,ye:a.stopY}));for(var b=c;b<j.length;b++)a.push({value:j[b].id,text:j[b].n+ ` (index: `+ j[b].id+ `)`,x:j[b].xe- j[b].xs,y:j[b].ye- j[b].ys});generateSegmentOptions(a),tSg.style.display=d,sID.style.display=e,gId(f).setAttribute(g,greenColor),setTimeout((()=>{gId(f).setAttribute(g,accentColor)}),h)}catch(a){console.error(a),gId(f).setAttribute(g,redColor),setTimeout((()=>{gId(f).setAttribute(g,accentColor)}),h),tSg.style.display=e,sID.style.display=d}else gId(f).setAttribute(g,redColor),setTimeout((()=>{gId(f).setAttribute(g,accentTextColor)}),h),tSg.style.display=e,sID.style.display=d});var generateSegmentOptions=(a=>{let d=0;tSg.innerHTML=``;for(var b=d;b<a.length;b++){var c=cE(`option`);c.value=a[b].value,c.text=a[b].text,c.dataset.x=a[b].x,c.dataset.y=a[b].y,tSg.appendChild(c),d===b&&(c.selected=!d,szX.value=c.dataset.x,szY.value=c.dataset.y)}});var updatePreview=(a=>{let c=``;gId(`imid`).value=a.name.replace(/\.[^/.]+$/,c).substr(0,26);const b=new FileReader;b.onload=()=>{preview.src=b.result,prw.style.display=c},b.readAsDataURL(a)});var isValidBase64Gif=(a=>!0);var filePicked=(a=>{updatePreview(a.target.files[0])});var switchScale=(()=>{let f=``,d=0,e=`fill`;let a=scDiv.children[d].children[d],b=a.getAttribute(e),c=f;b===accentColor?(b=accentTextColor,c=scaleToggleOffd,szDiv.style.display=`none`):(b=accentColor,c=scaleToggleOnd,szDiv.style.display=f),a.setAttribute(e,b),a.setAttribute(`d`,c),gen()});function dragEnter(a){a.preventDefault(),this.classList.add(`drag-over`)}var gen=(()=>{let c=`block`,d=``,a=0,f=`fill`,b=`none`,e=`sSg`;if((szX.value>a&&szY.value>a||b==szDiv.style.display)&&gurl.value.length>a&&b!=prw.style.display){let a=prw.src;if(isValidBase64Gif(a))im.src=a,getPixelRGBValues(a),imcn.style.display=c,bcn.style.display=d;else{let e=`<p><b>WARNING!</b> File does not appear to be a valid image</p>`;imin.innerHTML=e,imin.style.display=c,imcn.style.display=b,JLD.value=d,devMode&&console.log(`The string '`+ a+ `' is not a valid base64 image.`)}};if(gurl.value.length>a)gId(e).setAttribute(f,accentColor);else{gId(e).setAttribute(f,accentTextColor);let a=tSg;a.style.display=b,a.innerHTML=d,sID.style.display=`flex`}});function dropped(a){a.preventDefault(),this.classList.remove(`drag-over`);updatePreview(a.dataTransfer.files[0])}let devMode=1;gurl.value=location.host;const urlParams=new URLSearchParams(window.location.search);gurl.value.length<1&&(gurl.value=`Missing_Host`),cjb.addEventListener(`click`,async()=>{let a=JLD;a.select();try{await navigator.clipboard.writeText(a.value)}catch(a){try{await d.execCommand(`copy`)}catch(a){console.error(`Failed to copy text: `,a)}}}),lSS.addEventListener(`change`,gen),szY.addEventListener(`change`,gen),szX.addEventListener(`change`,gen),cFS.addEventListener(`change`,gen),aS.addEventListener(`change`,gen),brgh.addEventListener(`change`,gen),cLN.addEventListener(`change`,gen),haIDe.addEventListener(`change`,gen),haUe.addEventListener(`change`,gen),haNe.addEventListener(`change`,gen),gurl.addEventListener(`change`,gen),sID.addEventListener(`change`,gen),prw.addEventListener(`load`,gen),tSg.addEventListener(`change`,()=>{sop=tSg.options[tSg.selectedIndex],szX.value=sop.dataset.x,szY.value=sop.dataset.y,gen()}),gId(`sendJSONledbutton`).addEventListener(`click`,async()=>{`https:`===window.location.protocol?alert(`Will only be available when served over http (or WLED is run over https)`):postPixels()}),brgh.oninput=()=>{brgV.textContent=brgh.value;let a=100*parseInt(brgh.value)/255;var b=`linear-gradient(90deg, #bbb ${a}%, #333 ${a}%)`;brgh.style.backgroundImage=b},cLN.oninput=()=>{let a=cLN;cLV.textContent=a.value;let b=100*parseInt(a.value)/512;var c=`linear-gradient(90deg, #bbb ${b}%, #333 ${b}%)`;a.style.backgroundImage=c},frm.addEventListener(`change`,()=>{for(var a=0;a<hideableRows.length;a++)hideableRows[a].classList.toggle(`hide`,`ha`!==frm.value),gen()});const dropZone=gId(`drop-zone`),filePicker=gId(`file-picker`),preview=prw;dropZone.addEventListener(`click`,zoneClicked),filePicker.addEventListener(`change`,filePicked);for(var hideableRows=d.querySelectorAll(`.ha-hide`),i=0;i<hideableRows.length;i++)hideableRows[i].classList.add(`hide`);frm.addEventListener(`change`,()=>{for(var a=0;a<hideableRows.length;a++)hideableRows[a].classList.toggle(`hide`,`ha`!==frm.value)});var segmentData=generateSegmentArray(10);generateSegmentOptions(segmentData),seDiv.innerHTML=`<svg id=getSegmentsSVG style="width:36px;height:36px;cursor:pointer" viewBox="0 0 24 24" onclick="getSegments()"><path id=sSg fill="currentColor" d="M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.68 7.35 7.38 5.73 9.07 4.1 11 4.1 11.83 4.1 12.41 4.69 13 5.28 13 6.1V12.15L14.6 10.6L16 12L12 16L8 12L9.4 10.6L11 12.15V6.1Q9.1 6.45 8.05 7.94 7 9.43 7 11H6.5Q5.05 11 4.03 12.03 3 13.05 3 14.5 3 15.95 4.03 17 5.05 18 6.5 18H18.5Q19.55 18 20.27 17.27 21 16.55 21 15.5 21 14.45 20.27 13.73 19.55 13 18.5 13H17V11Q17 9.8 16.45 8.76 15.9 7.73 15 7V4.68Q16.85 5.55 17.93 7.26 19 9 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20M12 11.05Z" /></svg>`,cjb.innerHTML=`<svg class="svg-icon" style="width:36px;height:36px" viewBox="0 0 24 24"> <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /> </svg>&nbsp; Copy to clipboard`,gId(`sendJSONledbutton`).innerHTML=`<svg class="svg-icon" style="width:36px;height:36px" viewBox="0 0 24 24"> <path id=sendSvgP fill="currentColor" d="M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20H13Q12.18 20 11.59 19.41 11 18.83 11 18V12.85L9.4 14.4L8 13L12 9L16 13L14.6 14.4L13 12.85V18H18.5Q19.55 18 20.27 17.27 21 16.55 21 15.5 21 14.45 20.27 13.73 19.55 13 18.5 13H17V11Q17 8.93 15.54 7.46 14.08 6 12 6 9.93 6 8.46 7.46 7 8.93 7 11H6.5Q5.05 11 4.03 12.03 3 13.05 3 14.5 3 15.95 4.03 17 5.05 18 6.5 18H9V20M12 13Z" /> </svg>&nbsp; Save`,gurl.value.length>0&&gId(`sSg`).setAttribute(`fill`,accentColor)</script>