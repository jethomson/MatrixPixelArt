<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1,user-scalable=no name=viewport><meta content="private, no-store"http-equiv=Cache-Control><title>Playlist Maker</title><style>html{touch-action:manipulation overflow: auto}body{color:#faffff;text-align:center;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;background:#111;font-family:Arial,sans-serif;font-size:17px}#main_div{max-width:1400px;margin:auto}#return_main_menu{float:left}.grid-container{grid-column-gap:5px;grid-template-columns:repeat(3,minmax(20px,1fr));justify-content:center;width:1000px;max-width:95vw;margin:5px auto;padding:5px;display:grid}.grid-container div{border:1px solid #fff}#button-container{max-width:600px;margin:5px auto;padding-top:10px;padding-bottom:10px;display:flex}input#plid{padding-top:5px;padding-bottom:5px;color:#ddd;background:#222;border:1px solid #333;border-radius:7px;flex-grow:1;justify-content:center;align-items:center;max-width:225px;padding-inline:5px;font-family:Arial,sans-serif;font-size:15px;display:flex}.gap{width:10px}button{color:#ddd;cursor:pointer;background:#222;border:1px solid #333;border-radius:24px;justify-content:center;align-items:center;width:100%;padding-inline:5px;font-family:Arial,sans-serif;font-size:1em;display:flex}.buttonclass{flex:1;padding-top:5px;padding-bottom:5px}.svg-icon{vertical-align:middle}ul{margin:0;padding:0}li{overflow-wrap:anywhere;cursor:pointer;border:0;border-radius:.3rem;width:100%;margin:5px auto;padding:8px 0;font-size:.8rem;line-height:1.6rem;list-style:none;transition-duration:.4s}#savebtn{background:#1fa3ec}#ul_playlist{background:#333}#ul_playlist>li{cursor:move;grid-template-columns:auto auto;display:grid}#ul_playlist>li.selected{background:#ff000080}#ul_playlist>li>label{overflow-wrap:anywhere;grid-column:span 2}.image{background:#b88}.composite{background:#8b8}.playlist{background:#88b}input[type=number],input[type=text]{color:#faffff;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;background:#333;border:0 solid #fff;border-radius:.3rem;outline:0;margin:0 6px;font-size:19px;transition:background-color .2s}::selection{background:#bbb}input[type=number]{text-align:right;max-width:35px;max-height:20px;margin-left:auto}input[type=text]{text-align:center;max-width:200px}input[type=number]:focus,input[type=text]:focus{background:#666}.rmbutton{color:#faffff;background:red;border-radius:.3rem;max-width:20px;max-height:20px}</style><body><a href=./index.html id=return_main_menu><svg viewbox="0 0 16 16"height=24px id=Layer_1 version=1.1 width=24px xml:space=preserve xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><path d="M15.45,7L14,5.551V2c0-0.55-0.45-1-1-1h-1c-0.55,0-1,0.45-1,1v0.553L9,0.555C8.727,0.297,8.477,0,8,0S7.273,0.297,7,0.555 L0.55,7C0.238,7.325,0,7.562,0,8c0,0.563,0.432,1,1,1h1v6c0,0.55,0.45,1,1,1h3v-5c0-0.55,0.45-1,1-1h2c0.55,0,1,0.45,1,1v5h3 c0.55,0,1-0.45,1-1V9h1c0.568,0,1-0.437,1-1C16,7.562,15.762,7.325,15.45,7z"fill=white /></svg></a><h3>Click an item in Saved Art or Saved Playlists to load it into the Edit Playlist area. Drag and drop to rearrange items, adjust play time, and save to make a playlist.</h3><div id=main_div><div id=button-container><input placeholder="Enter filename here."autocomplete=off id=plid maxlength=26><div class=gap id=gap1></div><button class=buttonclass id=btn_save onclick=save()><svg viewbox="0 0 24 24"class=svg-icon style=width:36px;height:36px><path d="M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20H13Q12.18 20 11.59 19.41 11 18.83 11 18V12.85L9.4 14.4L8 13L12 9L16 13L14.6 14.4L13 12.85V18H18.5Q19.55 18 20.27 17.27 21 16.55 21 15.5 21 14.45 20.27 13.73 19.55 13 18.5 13H17V11Q17 8.93 15.54 7.46 14.08 6 12 6 9.93 6 8.46 7.46 7 8.93 7 11H6.5Q5.05 11 4.03 12.03 3 13.05 3 14.5 3 15.95 4.03 17 5.05 18 6.5 18H9V20M12 13Z"fill=currentColor id=sendSvgP></path></svg>Â  Save</button></div><div class=grid-container><div><h4>Saved Art</h4><ul id=art_ul></ul></div><div class=dropzone><h4>Edit Playlist <input class=rmbutton onclick=clear_playlist_work() type=button value=x></h4><ul id=ul_playlist></ul></div><div><h4>Saved Playlists</h4><ul id=pl_ul></ul></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.10.1/Sortable.min.js></script><script>var load_effect_into_dropzone=(async(a,b)=>{let c=`beforeend`,d=20;if(a===`im`){ul_playlist.insertAdjacentHTML(c,`<li class="image" data-type="${a}" data-id="${b}"><label>${b}</label></li>`);add(ul_playlist.lastElementChild,d)}else if(a===`cm`){ul_playlist.insertAdjacentHTML(c,`<li class="composite" data-type="${a}" data-id="${b}"><label>${b}</label></li>`);add(ul_playlist.lastElementChild,d)}});var add=((a,b)=>{let c=`beforeend`;a.insertAdjacentHTML(c,`<input title="seconds" type="number" min="0.001" step="0.1" value="${b}"/>`);a.insertAdjacentHTML(c,`<input type="button" value="x" class="rmbutton"/>`)});var save=(async()=>{let d=0,e=0.001,f=`!!`,g=1000,h=`fill`;const a=`pl`;let b=document.getElementById(`plid`).value;let c=ul_playlist.getElementsByTagName(`li`);console.log(b);if(b&&c.length>d){let i={};i.t=a;i.am=[];for(let a=d;a<c.length;a++){let b=c[a].children[1].value;if(isNaN(b)||b<e){b=e};i.am.push({"t":c[a].getAttribute(`data-type`),"id":c[a].getAttribute(`data-id`),"d":f+ g*b+ f})};let j=JSON.stringify(i);const k=/"!!(-?[0-9]+\.{0,1}[0-9]*)!!"/g;j=j.replace(k,`\$1`);console.log(j);console.log(`t=${a}&id=${b}&json=`+ j);let l=!1;try{const c=await fetch(base_url+ `/save`,{method:`POST`,headers:{"Content-Type":`application/x-www-form-urlencoded`},body:`t=${a}&id=${b}&json=`+ j}),d=await c.json();console.log(d);l=!0}catch(a){console.error(a);l=!1}let m=document.getElementById(`sendSvgP`);if(l){m.setAttribute(h,`#056b0a`);setTimeout((()=>{m.setAttribute(h,`#eee`);fetch_source()}),g)}else{m.setAttribute(h,`#6b050c`);setTimeout((()=>{m.setAttribute(h,`#777`)}),g)}}else{console.log(`Missing Playlist ID or playlist is empty.`)}});var fetch_source=(async()=>{const a=await fetch(base_url+ `/file_list.json`);let b=await a.json();populate_effects(b)});var populate_effects=(a=>{let d=``,e=`beforeend`;let b=document.getElementById(`art_ul`);let c=document.getElementById(`pl_ul`);b.innerHTML=d;c.innerHTML=d;for(let d=0;d<a.length;d++){let f=a[d][`t`];let g=a[d][`p`];let h=a[d][`id`];if(f&&h){if(f==`im`){b.insertAdjacentHTML(e,`<li class="image" onclick="load_effect_into_dropzone('${f}', '${h}')">${h}</li>`)}else if(f==`cm`){b.insertAdjacentHTML(e,`<li class="composite" onclick="load_effect_into_dropzone('${f}', '${h}')">${h}</li>`)}else if(f==`pl`){c.insertAdjacentHTML(e,`<li class="playlist" onclick="load_playlist_into_dropzone('${g}', '${h}')">${h}</li>`)}};ul_playlist.style.minHeight=b.offsetHeight}});var clear_playlist_work=(()=>{document.getElementById(`ul_playlist`).innerHTML=``});var load_playlist_into_dropzone=(async(a,b)=>{let e=`beforeend`,f=1000;const c=await fetch(base_url+ a);let d=await c.json();if(d){let a=d[`am`];console.log(d);for(let b=0;b<a.length;b++){let c=a[b][`t`];let d=a[b][`id`];let g=a[b][`d`];if(c===`im`){ul_playlist.insertAdjacentHTML(e,`<li class="image" data-type="${c}" data-id="${d}"><label>${d}</label></li>`);add(ul_playlist.lastElementChild,g/f)}else if(c===`cm`){ul_playlist.insertAdjacentHTML(e,`<li class="composite" data-type="${c}" data-id="${d}"><label>${d}</label></li>`);add(ul_playlist.lastElementChild,g/f)}};document.getElementById(`plid`).value=b}});let base_url=``;if(window.location.protocol==`file:`){base_url=`http://pixelart.local`};let ul_playlist=document.getElementById(`ul_playlist`);let playlist=new Sortable(ul_playlist,{group:{name:`plm_lists`},animation:150,filter:`.rmbutton`,onFilter:(a=>{let b=a.item;let c=a.target;if(Sortable.utils.is(c,`.rmbutton`)){b.parentNode.removeChild(b)}}),filter:`input`,preventOnFilter:!1});window.addEventListener(`load`,fetch_source)</script>